<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="jlord">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>jlord</title>
    <link rel="shortcut icon" href="assets/favicon.png">
    <link href='http://fonts.googleapis.com/css?family=Playfair+Display:400,900,400italic,700italic|Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link href='assets/style.css' rel='stylesheet'>
  </head>
  <body>
    <div class="main-container">
      {{> header}}

      <div id="content">
        {{{content}}}
        <div class="whole" style="border: none;">
          <h2>Post</h2>
          <h3>Sheetsee.js v3.0</h3>

          <p>I've just updated Sheetsee with new features and all new docs. I've been waiting to ship this, it feels like, for far too long. I&#8217;m hoping now Sheetsee is at a solid enough place that I can focus spare time on making more fork-n-go examples.</p>
          <p><a href="#">Read More</a> // <a href="#">Go to Feed</a></p>
      </div>

      <div class="whole">
        <h2>Twitter</h2>
        <div id="tweet"><span class="load flash animated">LOADING...</span></div>
      </div>
      <div class="whole">
          <h2>Instagram<h2>
            <div id="instagram"><span class="load flash animated">LOADING...</span></div>
            <div style="display: block;"></div>
      </div>

      <div class="whole">
        <div class="half">
          <h2>Highlight</h2>
          <div id="quote"><span class="load flash animated">LOADING...</span></div>
        </div>

        <div class="half">
          <h2>Instapaper</h2>
          <div id="pocket"><span class="load flash animated">LOADING...</span></div>
        </div>
        </div>

        <div class="whole">
          <div class="half">
            <h3>Me</h3>
            <p>My heart is in the open web, knowledge sharing, javascript and node.</p> 
            <p>I live in Oakland, Ca and work at <a href="">GitHub</a>.</p>
            <span class="meta"><a href="about.html">More details</a></span>
          </div>
          <div class="half">
            <h3>Site</h3>
            <p>Lovingly and frustratingly made by me, including my own <a href="http://github.com/jlord/balrog" target=" _blank">static site generator</a> (don't even get me started). Go ahead, <a href="">view source</a>, see the complete <a href="">code on GitHub</a> or checkout the <a href="">blog</a> for posts related to specific bits.</p>
          </div>
        </div>

      <script type="text/javascript" src="assets/js/sheetsee.js"></script>
      <script type="text/javascript" src="assets/js/handlebars.js"></script>
      <script type="text/javascript" src="assets/js/tabletop1.3.3.js"></script>
      <script type="text/javascript" src="assets/js/templates.js"></script>

      <script type="text/javascript">
        document.addEventListener('DOMContentLoaded', function() {
          var URL  = '0Ao5u1U6KYND7dG9CRWdjeVB6dGYyN3c3RktocExUV1E' // insta
          var URL2 = '0Ao5u1U6KYND7dDd2RTBwajZrT3pEc2p2LVVWc0o0WVE' // tweet
          var URL3 = '0Ao5u1U6KYND7dFR4aDRFb1RsZmlHRXc3ZnFHa3ltTXc' // quotes
          var URL4 = '0Ao5u1U6KYND7dFM4R1RKSUNZSXdNbkhpRUVZZ3pRTEE' // pocket
          Tabletop.init({ key: URL,  callback: buildInsta,  simpleSheet: true })
          Tabletop.init({ key: URL2, callback: buildTweet,  simpleSheet: true })
          Tabletop.init({ key: URL3, callback: buildQuote,  simpleSheet: true })
          Tabletop.init({ key: URL4, callback: buildPocket, simpleSheet: true })
        })

        function buildInsta(data) {
          var compiledTemplate = Handlebars.templates['instagram']
          var html = compiledTemplate({"rows": getLast(data,3)}, {});
          document.getElementById('instagram').innerHTML = html
        }

        function buildTweet(data) {
          var template = Handlebars.templates['twitter']
          var html = template({"rows": getLast(data,1)}, {});
          document.getElementById('tweet').innerHTML = html
        }

        function buildQuote(data) {
          var template = Handlebars.templates['quote']
          var html = template({"rows": data.reverse()[0]}, {});
          document.getElementById('quote').innerHTML = html
        }

        function buildPocket(data) {
          var template = Handlebars.templates['pocket']
          var html = template({"rows": getLast(data,2)}, {});
          document.getElementById('pocket').innerHTML = html
        }

        function getLast(array, howMany) {
          start = array.length
          cut = start - howMany
          if (start < 12) {
          return array
          } else {
            array = array.splice(cut)
            return array.reverse()
          }
        }
      </script>
      </div>

      {{> footer}}
    </div>
  </body>
</html>
